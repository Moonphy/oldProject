<!DOCTYPE html>
<html>
<head>
    <?php F::TPL('weixin/xunbao/common2/header.html', get_defined_vars(), 'huodong'); ?>
    <style type="text/css">
        [v-show] { display: none; }
        .fade-transition {
          transition: all .3s ease;
          overflow: hidden;
          opacity: 1;
        }

        .fade-enter{
            opacity: 0;
        }
        .fade-leave {
          opacity: 0;
        }
    </style>
</head>
<body >
    <div id="taskapp" class="hidden"></div>
    <div class="wrap list">
        <div class="ui-center">
            <?php F::TPL('weixin/xunbao/common2/taska_index.html', [], 'huodong'); ?>
            <?php F::TPL('weixin/xunbao/common2/task_upload.html', [], 'huodong'); ?>
            <?php F::TPL('weixin/xunbao/common2/task_list.html', [], 'huodong'); ?>
            <?php F::TPL('weixin/xunbao/common2/task_item.html', [], 'huodong'); ?>
            <?php F::TPL('weixin/xunbao/common2/task_rank.html', [], 'huodong'); ?>
        </div>
        <?php F::TPL('weixin/xunbao/common2/menu.html', [], 'huodong'); ?>
    </div>
    
    <script type="text/x-template" id="item-template">
        <ul>
            <li v-for="item in taskItems" id="{{item.id}}" v-on>
                <a href="{{item.url}}" v-on:click="preview(item.id, $event)">
                    <img :src="item.path" alt="">
                    <p>{{ item.user.nickname }}</p>
                </a>
            </li>
        </ul>
    </script>

    <script type="text/x-template" id="rankItem_template">
        <li v-for="item in topTasks">
            <div class="list-{{ $index +1 }}-wrap">
                <div class="list-num">{{ $index + 1}}</div>
            </div>
            <div class="ui-avatar"><img src="{{ item.user.headimgurl }}" alt=""/>
            </div>
            <div class="visit-user">
                <div class="visit-user-title">{{ item.user.nickname }}</div>
                <p class="visit-user-text">已获得<b>{{ item.fav_num }}</b>个祝福</p>
            </div>
        </li>
    </script>
    <script type="text/x-template" id="rank_template">
        <li  v-for="item in topotherTasks">
            <div class="list-num">{{ $index +4 }}</div>
            <div class="visit-user-title">{{ item.user.nickname }}</div>
            <div class="list-zan">已获得<b>{{ item.fav_num }}</b>个祝福</div>
        </li>
    </script>

    <?php F::TPL('weixin/xunbao/common2/popup.html', [], 'huodong'); ?>
    <?php F::TPL('weixin/xunbao/common2/footer.html', get_defined_vars(), 'huodong'); ?>
    <script type="text/javascript">
        Gaofen.PD.set({
            router: 'task'
        });
    </script>
</body>
</html>
