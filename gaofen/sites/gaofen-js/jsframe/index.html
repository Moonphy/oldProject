<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link type="text/css" href="css/base.css" rel="stylesheet">
	<link type="text/css" href="css/bootstrap.min.css" rel="stylesheet">
	   
	<style>
		body{
			height : 1000px;
		}
	</style>
	<script>

	/*
	function doScrollCheck(){
	try {
		// If IE is used, use the trick by Diego Perini
		// http://javascript.nwbox.com/IEContentLoaded/
		document.documentElement.doScroll("left");
	} catch(e) {
		console.log('setTimeout')
		setTimeout( doScrollCheck, 0 );
		return;
	}
	
	//alert('doScrollCheck')

}
if(document.attachEvent){
	document.attachEvent( "onreadystatechange", function(e){
		
		if(document.readyState === 'complete')
		    alert('onreadystatechange')
		else
			console.log(document.readyState)
	} );
	
	window.attachEvent( "onload", function(){
		alert('onload')
	} );
	
	doScrollCheck();

	// and execute any waiting functions
	
}else{
	document.addEventListener( "DOMContentLoaded", function(){

		alert('DOMContentLoaded')
	}, false );
}
	*/
	</script>
	 <script type="text/javascript" src="gaofen.js"></script>
</head>
<body>	
	<div rel="e:lgu,d:1" id="c">click me</div>
	<div class="example">
		例子：
		<ul>
			<li>1. <a href="windows.html" target="_black">各种窗口</a></li>
			<li>2. <a href="switcher.html" target="_black">分类条</a></li>
			<li>3. <a href="validator.html" target="_black">表单验证</a></li>
			<li>4. <a href="drag.html" target="_black">拖拉</a></li>
			<li>5. <a href="template.html" target="_black">模板</a></li>
			<li>6. <a href="autocomplete.html" target="_black">自动完成</a></li>
			<li>7. <a href="phpuse.html" target="_black">后端使用</a></li>
		</ul>
	</div>
	<iframe src="http://www.test.com/iframe.php" id="iframe3" name="iframe1"></iframe>
	
	<div><input id="toframe" type="text"><span id="setFrame">toframe</span></div>
</body>
<script>
$(function(){
/*
	window.myFame = $('#iframe1');
	$('#body').data('i', window.myFame);
	$('#setFrame').click(function(){
		var v = $('#toframe').val();
		var $newf = $('<iframe src="http://www.test.com/index.php" id="iframe2" name="'+v+'"></iframe>');
		//$newf.attr('name', v);
		var newFrame  = $newf.appendTo('body');
		$newf.bind('load', function(){
			$newf.remove();
		})
	});
	*/
	//	$.get('http://domainiframe.sinaapp.com/a.php',{}, function(r){

	//})
	//var hander = $.get('http://domainiframe.sinaapp.com/', {}, function(){})
//jQuery.getJSON("http://domainiframe.sinaapp.com/test.php?jsonp=?",{a:1}, function(data){
//      var $v = $(data);
//	  debugger;
//});
    // We override the animation for all of these color styles  
var i = 0;
	jQuery.each(['backgroundColor', 'borderBottomColor', 'borderLeftColor', 'borderRightColor', 'borderTopColor', 'color', 'outlineColor'], function(i,attr){  
		jQuery.fx.step[attr] = function(fx){
			var c = $(fx.elem).css(attr);
			//console.log(i++);
			//debugger;
			//var cc = getRGB(c);
            if ( fx.state == 0 ) {  
                fx.start = getColor( fx.elem, attr );  
				//alert(fx.start)
				var c = getRGB(fx.start);
                fx.end = getRGB( fx.end );  
            }  

            fx.elem.style[attr] = "rgb(" + [  
                Math.max(Math.min( parseInt((fx.pos * (fx.end[0] - fx.start[0])) + fx.start[0]), 255), 0),  
                Math.max(Math.min( parseInt((fx.pos * (fx.end[1] - fx.start[1])) + fx.start[1]), 255), 0),  
                Math.max(Math.min( parseInt((fx.pos * (fx.end[2] - fx.start[2])) + fx.start[2]), 255), 0)  
            ].join(",") + ")";  
        }  
    });  
  
    // Color Conversion functions from highlightFade  
    // By Blair Mitchelmore  
    // http://jquery.offput.ca/highlightFade/  
  
    // Parse strings looking for color tuples [255,255,255]  
    function getRGB(color) {  
        var result;  
  
        // Check if we're already dealing with an array of colors  
        if ( color && color.constructor == Array && color.length == 3 )  
            return color;  
  
        // Look for rgb(num,num,num)  
        if (result = /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(color))  
            return [parseInt(result[1]), parseInt(result[2]), parseInt(result[3])];  

		if (result = /rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(color))  
            return [parseInt(result[1]), parseInt(result[2]), parseInt(result[3])];  
  
        // Look for rgb(num%,num%,num%)  
        if (result = /rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(color))  
            return [parseFloat(result[1])*2.55, parseFloat(result[2])*2.55, parseFloat(result[3])*2.55];  
  
        // Look for #a0b1c2  
        if (result = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(color))  
            return [parseInt(result[1],16), parseInt(result[2],16), parseInt(result[3],16)];  
  
        // Look for #fff  
        if (result = /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(color))  
            return [parseInt(result[1]+result[1],16), parseInt(result[2]+result[2],16), parseInt(result[3]+result[3],16)];  
  
        // Otherwise, we're most likely dealing with a named color  
        return colors[jQuery.trim(color).toLowerCase()];  
    }  
      
    function getColor(elem, attr) {  
        var color;  
  
        do {  
            color = jQuery.curCSS(elem, attr);  
  
            // Keep going until we find an element that has color, or we hit the body  
            if ( color != '' && color != 'transparent' || jQuery.nodeName(elem, "body") )  
                break;   
  
            attr = "backgroundColor";  
        } while ( elem = elem.parentNode );  
  
        return getRGB(color);  
    };  
      
    // Some named colors to work with  
    // From Interface by Stefan Petre  
    // http://interface.eyecon.ro/  
  
    var colors = {  
        aqua:[0,255,255],  
        azure:[240,255,255],  
        beige:[245,245,220],  
        black:[0,0,0],  
        blue:[0,0,255],  
        brown:[165,42,42],  
        cyan:[0,255,255],  
        darkblue:[0,0,139],  
        darkcyan:[0,139,139],  
        darkgrey:[169,169,169],  
        darkgreen:[0,100,0],  
        darkkhaki:[189,183,107],  
        darkmagenta:[139,0,139],  
        darkolivegreen:[85,107,47],  
        darkorange:[255,140,0],  
        darkorchid:[153,50,204],  
        darkred:[139,0,0],  
        darksalmon:[233,150,122],  
        darkviolet:[148,0,211],  
        fuchsia:[255,0,255],  
        gold:[255,215,0],  
        green:[0,128,0],  
        indigo:[75,0,130],  
        khaki:[240,230,140],  
        lightblue:[173,216,230],  
        lightcyan:[224,255,255],  
        lightgreen:[144,238,144],  
        lightgrey:[211,211,211],  
        lightpink:[255,182,193],  
        lightyellow:[255,255,224],  
        lime:[0,255,0],  
        magenta:[255,0,255],  
        maroon:[128,0,0],  
        navy:[0,0,128],  
        olive:[128,128,0],  
        orange:[255,165,0],  
        pink:[255,192,203],  
        purple:[128,0,128],  
        violet:[128,0,128],  
        red:[255,0,0],  
        silver:[192,192,192],  
        white:[255,255,255],  
        yellow:[255,255,0]  
    };  

	var $c = $('#c');
	$c.animate({'backgroundColor':'#ff9f5f'}, 2000);  
	return;
var cal = $.Callbacks();
cal.add(function(){
	alert('other callBack')
});
cal.add(function(){
	alert('other2 callBack')
});

function fn1( value ){ 
    //console.log( value ); 
    return false; 
} 
 
function fn2( value ){ 
    //console.log("fn2 says:" + value); 
    return false; 
} 

var callbacks = $.Callbacks( "unique memory" ); 
callbacks.add( fn1 ); 
callbacks.fire( "foo" ); 
//callbacks.add( fn1 ); //重复添加 
callbacks.add( fn2 ); 
callbacks.fire( "bar" ); 
//var callbacks2 = $.Callbacks( "unique memory" ); 
//callbacks.fire( "barss" ); 
//cal.fire('dd',{a:1});
//cal.fire('dd',{a:1});
// var ajax = Gaofen.request.q('http://my.gaofen.com/index.php?mod=common&do=showdistrict&op=district&container=residedistrictbox&province=resideprovince&city=residecity&district=residedist&community=residecommunity&pid=8&cid=0&did=0&coid=0&level=1&handlekey=residedistrictbox&inajax=1',{}, function(d){
//	debugger;
 //});
 //debugger;
    /*
        $.ajax({
             url:'http://domainiframe.sinaapp.com/test.php',
             dataType:"jsonp",
             jsonp:"callback",
             success:function(data){
                  alert("Symbol:" + data.symbol + ", Price:" + data.price);
             }
        });

  window.feedBackState = function(){
	alert(33)
  }
	$.ajax({ 
	type: "get", 
	async: false, 
	url: "http://domainiframe.sinaapp.com/test.php", 
	dataType: "jsonp", 
	jsonp: "callback",//传递给请求处理程序或页面的，用以获得jsonp回调函数名的参数名(一般默认为:callback) 
	jsonpCallback:"feedBackState",//自定义的jsonp回调函数名称，默认为jQuery自动生成的随机函数名 
	success: function(data){ 
	var $ul = $("<ul></ul>"); 
	$.each(data,function(i,v){ 
	$("<li/>").text(v["id"] + " " + v["name"]).appendTo($ul) 
	}); 
	$("#remote").append($ul); 
	}, 
	error: function(){ 
	alert('fail'); 
	} 
	}); 
	*/
})

/*
$(function(){

	var util = Gaofen.util,
		Base = function(){
			
		};
		
		Base.prototype.get = function(){
			console.log('old');
		};
	
	var Fn = util.create('Base', Base, {
		init: function(){
			console.log('Base');
		},
		get : function(){
			console.log('old');
		}
	});
	
	
	var fn = new Fn();
	
	console.log(fn);
	
	fn.get();
	
	var G = Gaofen;
	Gaofen.on('on', function(){
		console.log(arguments);
	});
	
	Gaofen.fire('on', {arg:1});
	
	var m = G.use('Modal', {
		appendTo : 'body',
		title : '测试',
		closeable : true,
		dragable : true,
		name : 'myname',
		contentHtml : '<div>{.name}</div>'
	}).play(1);

	G.use('DragBase', {'items':m.jq(), 'movePart':$('body'), 'handle':'#gf_title'});
});

*/
</script>
</html>