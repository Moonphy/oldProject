var Gaofen={};
(function(i){var g=0,k=i.util={create:function(){var a=function(){this.init.apply(this,arguments)};if(arguments.length===0)return a;var b,f,m,j=$.makeArray(arguments);typeof j[0]==="string"?(m=j[0],f=j[1],j.shift()):f=j[0];j.shift();if(f)f=f.prototype;if(f)b=function(){},b.prototype=f,a.prototype=b=new b;if(m)b.type=m,k.ns(m,a);m=0;for(var c=j.length;m<c;m++)b=$.extend(b,typeof j[m]==="function"?j[m](f):j[m]);a.prototype.uber=function(){var a=arguments;if(a.length!=0){var f=a[0],b=this.base;if(b&&
b[f])b[f].apply(this,a),(f=b.uber)&&f.apply(b,a)}};b.base=f;return b.constructor=a},ns:function(a,b){for(var f=a.split("."),m=window,j,c=0,d=f.length-1;c<d;c++)j=f[c],m[j]||(m[j]={}),m=m[j];m[f[c]]=b},parseKnV:function(a){var b={},f,m=this.split(a||"",",");try{for(var j=0,c=m.length;j<c;j++)m[j].indexOf(":")===-1?b[m[j]]=!0:(f=k.split(m[j],":"),b[f[0]]=f[1])}catch(d){throw __debug&&console.trace(),"Syntax Error:rel字符串格式出错。"+a;}return b},split:function(a,b,f){var m,j=[],c=[];f||(f="\\");for(var d=
0,e=a.length;d<e;d++)m=a.charAt(d),m===b?(j.push(c.join("")),c.length=0):(m===f&&a.charAt(d+1)===b&&(m=b,d++),c[c.length]=m);c.length&&j.push(c.join(""));return j},arrayRemove:function(a,b){a.splice(b,1)},appendParam:function(a,b){var f=typeof b!=="string"?this.queryString(b):b;return a+(a.indexOf("?")!==-1?"&"+f:"?"+f)},queryString:function(a){if(!a)return"";var b=[],f;for(f in a){var m=a[f];f=encodeURIComponent(f);var j=typeof m;if(j==="undefined")b.push(f,"=&");else if(j!="function"&&j!="object")b.push(f,
"=",encodeURIComponent(m),"&");else if(m instanceof Array)if(m.length)for(var j=0,c=m.length;j<c;j++)b.push(f,"=",encodeURIComponent(m[j]===void 0?"":m[j]),"&");else b.push(f,"=&");else if(j==="object")for(var d in m)b.push(f,"[",d,"]","=",encodeURIComponent(m[d]),"&")}b.pop();return b.join("")},domUp:function(a,b,f){for(var f=f||doc.body,m=typeof b==="string";a;){if(m){if($(a).is(b))break}else if(b(a))break;a=a.parentNode;if(a===f)return null}return a},escapeHtml:function(a){return a?a.replace(/</g,
"&lt;").replace(/>/g,"&gt;"):""},uniqueId:function(){return++g},bind:function(a,b){return function(){return a.apply(b,arguments)}},getBind:function(a,b){var f="_gf_"+b,m=a[f];m||(m=a[f]=k.bind(a[b],a));return m},ancestorOf:function(a,b,f){if(a.contains&&!$.browser.webkit)return a.contains(b);else if(a.compareDocumentPosition)return!!(a.compareDocumentPosition(b)&16);f===void 0&&(f=65535);for(var b=b.parentNode,m=doc.body;b!=m&&f>0&&b!==null;){if(b==a)return!0;b=b.parentNode;f--}return!1},arrayRemove:function(a,
b){a.splice(b,1)},drawImage:function(a,b,f,m){function j(j){j&&(c=j);if(c.width>0&&c.height>0){j=k.getRealSize(c.width,c.height,b,f);if(d)a.width=j[0],a.height=j[1];m&&m({width:j[0],height:j[1]})}}var c=new Image,d=typeof a=="object";d&&j(c);$(c).load(function(){j()});src=d?a.src:a},getRealSize:function(a,b,f,m){a/b>=f/m?a>f?(m=f,f=b*f/a):(m=a,f=b):b>m?(f=m,m=a*m/b):(m=a,f=b);return[m,f]}};$.extend(i,{_cls:{},reg:function(a,b,f){if(this._cls[a]!==void 0&&!f)throw __debug&&console.trace(),"had"+a;
return this._cls[a]=b},use:function(a,b){var f=this._cls[a];if(f){if(typeof f==="object")return f;if(typeof b==="function")return new f(b(f.prototype));return new f(b)}return null}});if($.browser.msie&&$.trim($.browser.version)=="6.0")k.ie6=!0;var e=/\[\?(!?)\.([\w_$]+?)(\.[\w_$]+)?\?([\S\s]*?)\?\]/g,d=/\{(\.?[\w_|$]+)(\.[\w_$]+)?\}/g,c=i.tpl={tpls:{},modifiers:{escape:function(a){return k.escapeHtml(a)}},parse:function(a,b){b||(b={});if(a.charAt(0)!=="<"){var f=c.tpls[a];f&&(a=f)}a=a.replace(e,function(a,
f,c,d,e){a=b[c];d&&d.charAt(0)==="."&&a&&(a=a[d.substr(1)]);if(f==="!")return!a?e:"";return!a?"":e});return a.replace(d,function(a,f,d){var e,g;f.charCodeAt(0)===46?(g=f.substr(1),g=g.split("|"),a=g.shift(),e=b[a]):e=c.tpls[f];if(e===void 0||e===null)return"";d&&d.charAt(0)==="."&&f.charAt(0)==="."&&(e=e[d.substr(1)]);if(e===void 0||e===null)return"";if(g&&g.length){var i;$.each(g,function(a,f){(i=c.modifiers[f])&&(e=i(e))})}else{if(e.toString().charAt(0)==="<")return c.parse(e,b);if(c.tpls[e])return c.parse(c.tpls[e],
b)}return e})},forNode:function(a,b){b&&(a=this.parse(a,b));return $(a).get(0)},get:function(a){a=this.tpls[a];return $.isArray(a)?a.join(""):a},reg:function(a){$.extend(this.tpls,a)}}})(Gaofen);(function(i){i.temp={};i.ex={};var g=i.util,k=i.tpl,e=document,d=$(window),c=$(e),a=i.ui={Base:g.create()},b=a.Base;a.Base.prototype={autoRender:!1,titleNode:"#gf_title",hidden:!0,clsNode:"#gf_close",_locked:0,init:function(a){this.cacheId="c"+g.uniqueId();a&&$.extend(this,a);this.initUI();this.autoRender&&this.getView()},initUI:$.noop,innerViewReady:$.noop,getReadyView:function(){return this.view},getView:function(){var a=this.view;if(!a||!a.tagName)a=this.createView();this.getView=this.getReadyView;
this.appendTo&&(typeof this.appendTo=="function"?this.appendTo(a):$(this.appendTo).append(a),delete this.appendTo);this.closeable!==void 0&&this.initClsBehave(this.closeable);if(this.actionMgr&&(this.actionMgr=i.use("Event",this.actionMgr),this.actionMgr.bind(a),this.onactiontrig)){var b=this;this.actionMgr.addFilter(function(a){return b.onactiontrig(a)})}this.innerViewReady(a);this.onViewReady&&this.onViewReady(a);return a},initClsBehave:function(a){this.jq(this.clsNode).click(g.bind(this.onClsBtnClick,
this));this.setCloseable(a)},setCloseable:function(a){this.jq(this.clsNode).cssDisplay(a);this.closeable=a},onClsBtnClick:function(){this.close(!0);return!1},close:function(){if(!this.onclose||this.onclose()!==!1)this.destroyOnClose?this.destroy():this.play(!1)},createView:function(){var a=this.view;typeof a==="string"?a=this.view=k.forNode(k.get(a)||a,this.tplData||this,!0):this.view=a=e.createElement("DIV");return $(a)[0]},setTitle:function(a){this.jq(this.titleNode).html(a);return this},center:function(){var a=
this.jq(),b=[d.width(),d.height()],a=[a.width(),a.height()],j=(b[1]-a[1])*0.8;this.view.style.left=Math.max((b[0]-a[0])/2|0,0)+(this.isFixed&&!g.ie6?0:c.scrollLeft())+"px";this.view.style.top=Math.max(j-j/2|0,0)+(this.isFixed&&!g.ie6?0:c.scrollTop())+"px";return this},beforeShow:$.noop,afterShow:$.noop,beforeHide:$.noop,afterHide:$.noop,play:function(a){var b=this.jq();if(a===void 0)return!b.hasClass("hidden");if(this.hidden==!1&&a)return this;this.hidden=!a;a?(b.css("visibility","hidden").removeClass("hidden"),
this.beforeShow(),b.css("visibility",""),this.contextable&&!this.contexted&&this.setContexted(!0),this.afterShow()):this.beforeHide()!==!1&&(b.addClass("hidden"),this.afterHide());if(this.ie6Iframe&&g.ie6)b=this.jq(),this.jqIframe=this.getIframe(),a?this.jqIframe.remove():(b.after(this.jqIframe),this.jqIframe.css({top:b.css("top"),left:b.css("left"),width:b.width(),height:b.height(),zoom:1}));return this},destroy:function(){this.play(!1);this.jq().remove()},setContexted:function(a){a?i.use("contextMgr").context(this):
i.use("contextMgr").release(this);return this},jq:function(a){return a===void 0?$(this.getView()):$(this.getView()).find(a)},ancestorOf:function(a,b){a=a.view||a;return g.ancestorOf(this.view,a,b)},onContextRelease:function(){this.play(!1)},unDomEvent:function(a,b,c){if(a==="mousedown"){var d=this._mousedownFns[b];this.jq(c).unbind(a,d);delete this._mousedownFns[b]}else this.jq(c).unbind(a,b)},domEvent:function(a,b,c){if(a==="mousedown"){var d=this,e=function(a){d.contexted||X.use("contextMgr").releaseAll(a);
return b.apply(d,arguments)};if(!this._mousedownFns)this._mousedownFns={};this._mousedownFns[b]=e;this.jq(c).bind(a,e)}else this.jq(c).bind(a,b)},getIframe:function(){if(!this.jqIframe)this.jqIframe=$('<iframe class="shade-iframe" frameborder="0"></iframe>'),this.jqIframe.css({position:"absolute"});return this.jqIframe},anchor:function(a,b,j,e){var g=$(a),a=this.jq(),n=g.offset(),i=g.width(),o=g.height(),g=a.width(),k=a.height(),u=b.charAt(0),v=b.charAt(1),b=n.left,n=n.top;switch(u){case "t":n-=k;
break;case "b":n+=o;break;case "c":n+=Math.floor((o-k)/2)}switch(v){case "c":b+=Math.floor((i-g)/2);break;case "r":b+=i-g}j&&(i=i=[b,n],j(i,g,k),b=i[0],n=i[1]);e&&(n<0?n=0:(j=d.height(),n+k-c.scrollTop()>j&&(n=j-k+c.scrollTop())),b<0?b=0:(j=d.width(),b+g-c.scrollLeft()>j&&(b=j-g+c.scrollLeft())));a.css("left",b+"px").css("top",n+"px")},slide:function(a,b,c,d,e,g){var i=this.jq();t=l=0;w=i.width();h=i.height();fl=l;ft=t;tl=l;tt=t;jqWr=this.clip();var o=a.charAt(0),a=a.charAt(1);switch(o){case "l":fl=
l-w;break;case "r":fl=l+w;break;case "t":ft=t-h;break;case "b":ft=t+h}switch(a){case "l":tl=l-w;break;case "r":tl=l+w;break;case "t":tt=t-h;break;case "b":tt=t+h}i.css("left",fl).css("top",ft);d||(d={});if(tl!=fl)d.left=d.left===void 0?tl:d.left+tl;if(tt!=ft)d.top=d.top===void 0?tt:d.top+tt;b&&i.css("visibility","");var k=this;i.animate(d,e||"fast",g,function(){b||(k.play(!1),i.css("visibility",""));setTimeout(function(){k.unclip();c&&c(k)},0)})},clip:function(){if(!b.CLIP_WRAPPER_CSS)b.CLIP_WRAPPER_CSS=
{position:"absolute",clear:"both",overflow:"hidden"},b.CLIPPER_CSS={position:"absolute",left:0,top:0};if(!this.jqClipWrapper){var a=$(i.Cache.get("div")),c=this.getView(),j=this.jq(),d=c.parentNode,e=j.offset();a.css(b.CLIP_WRAPPER_CSS).css(e).css("width",j.width()+"px").css("height",j.height()+"px").css("z-index",j.css("z-index")).append(c);var e=this._tmpClipedCss={},g;for(g in b.CLIPPER_CSS)e[g]=c.style[g];j.css(b.CLIPPER_CSS);d&&a.appendTo(d);this.jqClipWrapper=a}return this.jqClipWrapper},unclip:function(){if(this.jqClipWrapper){var a=
this.jqClipWrapper[0],c=a.style,j=this.jq(),d=j[0].style,e;for(e in b.CLIP_WRAPPER_CSS)c[e]="";this.jqClipWrapper.css("overflow","").css("width","").css("height","");c=this._tmpClipedCss;for(e in c)d[e]=c[e];delete this._tmpClipedCss;a.removeChild(j[0]);a.parentNode&&this.jqClipWrapper.replaceWith(j);i.Cache.put("div",a);delete this.jqClipWrapper}}};i.reg("base",b);i.ui.Uploader=i.reg("Uploader",function(a){this.init(a)});i.ui.Uploader.prototype={init:function(a){$.extend(this,a);var a=this.form,
b=this.formEl=$(a)[0],c="gf_upload_frame_"+g.uniqueId();this.iframe=k.forNode('<iframe src="about:blank" style="display:none;" id="'+c+'" name="'+c+'"></iframe>');$('<input type="hidden" name="callback"/>').appendTo(a);$(this.iframe).appendTo(e.body);b.target=c;if(!this.action)this.action=b.action||F.request.apiUrl("action","upload_pic")},setAction:function(a){this.action=a;return this},isLoading:function(){return!!this.jsonpFn},beforeUpload:$.noop,upload:function(a){if(this.beforeUpload(this.form)!==
!1){this.isLoading()&&this.abort();var b=this,c=this.jsonpFn="jsonp"+(new Date).getTime();window[c]=function(d){window[c]=null;delete b.jsonpFn;d=X.request.parseProtocol(d);(a||b.onload).call(b,d);delete b.jsonpFn};this.formEl.action=g.appendParam(this.action,{callback:"parent."+c,_:g.uniqueId()});this.formEl.submit()}},onload:$.noop,abort:function(){if(this.isLoading()){var a=this.jsonpFn;window[a]=function(){window[a]=null}}}};(i.Cache={MAX_ITEM_SIZE:3,reg:function(a,b,c){this[a]?this[a][1]=b:this[a]=
[null,b];c!==void 0&&this.sizeFor(a,c)},get:function(a){a=this[a];if(a===void 0)return null;var b=a[1],a=a[0];if(a===null)return b();if(a.length>1)return a.pop();if(b)return b();return null},put:function(a,b){var c=this[a];if(c){var d=c[0];d||(c[0]=d=[this.MAX_ITEM_SIZE]);d.length-1>=d[0]||d.push(b)}else this[a]=[[this.MAX_ITEM_SIZE,b]]},remove:function(a){this[a]&&delete this[a]},sizeFor:function(a,b){var c=this[a];c||(this[a]=c=[[]]);c[0]||(c[0]=[]);c[0][0]=b}}).reg("div",function(){return document.createElement("DIV")})})(Gaofen);(function(i){i.tpl.reg({BoxTitlebar:'<div class="modal-header"><h4 class="{.titCls}" id="gf_title">{.title}</h4></div>',modal:'<div class="modal {.cs}" >[?.title?{BoxTitlebar}?]<div class="modal-body" id="gfbody">{.contentHtml}</div>[?.footers? {mfooter}?][?.closeable?<button type="button" class="close" data-dismiss="modal" id="gf_close" title="关闭">×</button>?]</div>',mask:'<div class="modal-backdrop fade"></div>',mfooter:'<div class="modal-footer" id="gf_buttons">{.footers}</div>',AnchorTipContent:'<div class="tips-c"><div class="icon-correct icon-bg"></div><p id="gf_title"></p></div>',
AnchorDlgContent:'<div class="tips-c"><div class="icon-warn icon-bg"></div><p id="gf_title"></p></div>',button:'<a href="#" class="btn {.cs}" id="gf_btn_{.id}">{.title}</a>',Page:'<div class="pagination clear" id="{.id}"><div class="page-wrap"><ul class="page" id="content"></ul></div></div>',userInfo:'<div class="form" id="myform"><input class="hidden" type="text" name="id" value="{.id}"><div class="row"><label for="name">帐号：</label><div class="el"><input type="text" value="{.name}" name="username" id="name" vrel="_f|ne=m:请输入帐号|mail=m:必需是邮箱|url"/></div><span class="tips-ok hidden" id="nameoktip"></span><span class="tips-wrong hidden" id="namewarntip"><em>warn</em></span></div><div class="row"><label for="name">密码：</label><div class="el"><input type="password" name="password" id="title" vrel="_f|ne=m:请输入密码|sz=max:6,min:4" id="password" /></div><span class="tips-ok hidden" id="titleoktip"></span><span class="tips-wrong hidden" id="titlewarntip"><em>warn</em></span></div><div class="row"><label for="name">权限：</label><div class="el"><input type="text" value="{.power}" name="power" id="power" vrel="_f|ne=m:请输入0或者1"/></div><span class="tips-ok hidden" id="poweroktip"></span><span class="tips-wrong hidden" id="powerwarntip"><em></em></span></div><div class="ext align-right"><a title="" class="btn btn-primary" href="javascript:;" id="btnSubmit">确定</a></div></div>'})})(Gaofen);(function(i){var g=i.util,k=i.tpl,e=document,d=i.ui,c=i.ui.Base,a=$(window);$(e);var b=1E4,f={layers:[],hash:{},keyListeners:0,add:function(a){var b=a.cacheId;this.hash[b]||(this.layers.push(a),a.keyEvent&&(this.keyListeners===0&&$(e).bind("keydown",this.getEvtHandler()),this.keyListeners++),this.hash[b]=!0)},remove:function(a){var b=a.cacheId;if(this.hash[b]){var c=this.layers;c[c.length-1]===a?c.pop():g.arrayRemove(c,a);this.keyListeners--;this.keyListeners===0&&(__debug&&console.log("remove key listener"),
$(e).unbind("keydown",this.getEvtHandler()));delete this.hash[b]}},getEvtHandler:function(){var a=this._onDocKeydown;if(!a)a=this._onDocKeydown=g.bind(this.onDocKeydown,this);return a},onDocKeydown:function(a){var b=this.layers[this.layers.length-1];if(b&&b.keyEvent)return b.onKeydown(a)}},m=d.Layer=g.create(c,{hidden:!0,onViewReady:$.noop,frameMask:g.ie6,trackZIndex:function(a){if(this.z<b||this.z<a||!this.z)b=a?a:b+3,this.mask&&$(this.mask).css("z-index",b-1),this.frameMask&&$(this.getFrameMask()).css("z-index",
b-2),this.jq().css("z-index",b),this.z=b},keyEvent:!0,onKeydown:function(a){if(a.keyCode===27&&!this.cancelEscKeyEvent)return this.close(),!1},beforeShow:function(){this.mask&&this._applyMask(!0);var a=this.jq().css("position");(a==="absolute"||a==="fixed")&&this.trackZIndex();f.add(this);this.autoCenter&&this.center();this.size&&this.setSize()},setSize:function(){typeof this.size=="object"&&this.jq().css(this.size)},afterHide:function(){this.mask&&this._applyMask(!1);f.remove(this)},getFrameMask:function(){if(this.frameMaskEl)return this.frameMaskEl;
return this.frameMaskEl=k.forNode('<iframe class="shade-div shade-iframe" frameborder="0"></iframe>')},_applyMask:function(b){var c=this.mask;if(!c||c===!0)c=this.mask=k.forNode(k.get("mask"));var f=a.height();b?($(c).height(f).appendTo(e.body),setTimeout(function(){$(c).addClass("in")},1),this.frameMask&&$(this.getFrameMask()).height(f).appendTo(e.body),a.bind("resize",g.getBind(this,"onMaskWinResize"))):($(c).removeClass("in"),setTimeout(function(){$(c).remove()},200),this.frameMask&&$(this.getFrameMask()).remove(),
a.unbind("resize",g.getBind(this,"onMaskWinResize")))},onMaskWinResize:function(){var b=this.mask,c=a.height();b&&$(b).height(c);this.frameMask&&$(this.getFrameMask()).height(c);this.autoCenter&&this.center()}});i.reg("Layer",m);d.Modal=i.reg("Modal",g.create(d.Layer,{view:"modal"}));d.Tip=i.reg("Tip",g.create(d.Modal,{cs:"win-fixed",autoHide:!0,timeoutHide:1E3,timeoutShow:200,stayHover:!1,offX:25,offY:-10,innerViewReady:function(){var a=this.jq();this.stayHover&&a.hover(g.bind(this.onMouseover,this),
g.bind(this.onMouseout,this))},onMouseover:function(){this.clearHideTimer()},onMouseout:function(){this.setHideTimer()},clearHideTimer:function(){if(this.hideTimerId)clearTimeout(this.hideTimerId),this.hideTimerId=!1},beforeShow:function(){if(m.prototype.beforeShow.apply(this,arguments)===!1)return!1;this.autoHide&&this.setHideTimer()},setShowTimer:function(a){if(a)this.showTimerId=setTimeout(g.getBind(this,"onTimerShow"),this.timeoutShow);else if(this.showTimerId)clearTimeout(this.showTimerId),this.showTimerId=
!1},setHideTimer:function(){this.clearHideTimer();this.hideTimerId=setTimeout(g.getBind(this,"onTimerHide"),this.timeoutHide)},onTimerHide:function(){this.play(!1);this.clearHideTimer()},onTimerShow:function(){this.play(!0);this.setShowTimer(!1)}}));d.Dialog=i.reg("Dlg",g.create(d.Modal,function(a){return{focusBtnCs:"btn-s1-light",cs:"win-tips",appendTo:"body",title:"标题",contentHtml:"AnchorDlgContent",closeable:!1,initUI:function(){if(this.buttons&&!this.buttonHtml){for(var b=[],c=0,f=this.buttons,
d=f.length;c<d;c++)b.push(k.parse(this.buttonTpl||"button",f[c]));this.footers=b.join("")}a.initUI.call(this)},onClsBtnClick:function(){this.onbuttonclick("cancel")!==!1&&this.close();return!1},setFocus:function(a){if(a||this.defBtn)this.jq("#gf_btn_"+(a||this.defBtn)).focus().addClass(this.focusBtnCs)},afterShow:function(){a.afterShow.call(this);this.defBtn&&this.setFocus()},onbuttonclick:function(a){__debug&&console.log(a+" clicked")},setHandler:function(a){this.onbuttonclick=a;return this},getButton:function(a){return this.jq("#gf_btn_"+
a)},innerViewReady:function(b){a.innerViewReady.call(this,b);var c=this;$(b).find("#gf_buttons").click(function(a){if(a=g.domUp(a.target,function(a){return a.id&&a.id.indexOf("gf_btn_")===0},this)){var b=a.id.substr(7);c.buttons&&$.each(c.buttons,function(){if(this.id===b){var a;this.onclick&&(a=this.onclick(c));a!==!1&&c["on"+b]&&(a=c["on"+b]());a!==!1&&c.onbuttonclick(b)!==!1&&c.close()}});return!1}})}}}));d.mbox=i.reg("mbox",{getSysBox:function(){var a=this.sysBox;if(!a)a=this.sysBox=i.use("Dlg",
{buttons:[{title:"确&nbsp;定",id:"ok"},{title:"取&nbsp;消",id:"cancel"},{title:"&nbsp;是&nbsp;",id:"yes"},{title:"&nbsp;否&nbsp;",id:"no"},{title:"关&nbsp;闭",id:"close"}],setContent:function(a){this.jq("#fwbody").html(a)},setIcon:function(b){var c=a.jq("#gf_buttons");c.attr("class",c.attr("class").replace(/icon\-\S+/i,"icon-"+b))},afterHide:function(){d.Dialog.prototype.afterHide.call(this);this.onbuttonclick=d.Dialog.prototype.onbuttonclick}});return a},getTipBox:function(){var a=this.tipBox;if(!a)a=this.tipBox=
i.use("Tip",{cs:"win-tips win-fixed",appendTo:e.body,timeoutHide:1200,setContent:function(a){this.jq("#gfbody").html(a)},setIcon:function(){},afterHide:function(){d.Tip.prototype.afterHide.call(this);if(this.onhide)this.onhide(),this.onhide=!1}});return a},getAnchorDlg:function(){var a=this._anchorDlg;if(!a)a=this._anchorDlg=i.use("Dlg",{defBtn:"ok",title:"",cs:"win-fixed win-tips-ask",buttons:[{title:"确&nbsp;定",id:"ok"},{title:"取&nbsp;消",id:"cancel"}],setAnchor:function(a){this.anchorEl=a;return this},
beforeShow:function(){d.Dialog.prototype.beforeShow.call(this);if(this.anchorEl){this.anchor(this.anchorEl,"tc",function(a){a[1]-=2});var a=this;this.slide("bc",!0,function(){d.Dialog.prototype.afterShow.call(a)})}},afterShow:$.noop,beforeHide:function(){if(this.anchorEl)return this.slide("cb",!1),delete this.anchorEl,!1;else d.Dialog.prototype.beforeHide.call(this)},afterHide:function(){d.Dialog.prototype.afterHide.call(this);this.onbuttonclick=d.Dialog.prototype.onbuttonclick}});return a},getAnchorTip:function(){var a=
this._anchorTip;if(!a)a=this._anchorTip=i.use("Tip",{cs:"operate-success",contentHtml:"<div>内容</div>",appendTo:e.body,timeoutHide:1800,setAnchor:function(a){this.anchorEl=a;return this},beforeShow:function(){this.anchorEl&&(this.anchor(this.anchorEl,"tc",function(a){a[1]-=8}),this.slide("bc",!0));d.Tip.prototype.beforeShow.call(this)},beforeHide:function(){if(this.anchorEl)return this.slide("cb",!1),delete this.anchorEl,!1;else d.Tip.prototype.beforeHide.call(this)},afterHide:function(){d.Tip.prototype.afterHide.call(this);
if(this.onhide)this.onhide(),this.onhide=!1}});return a},tipError:function(a,b){this.tip(a,"error",b)},tipOk:function(a,b){this.tip(a,"success",b)},tipWarn:function(a,b){this.tip(a,"alert",b)},anchorTipOk:function(a,b,c){this.anchorTip(a,b,"",c)},anchorConfirm:function(a,b,c){this.getAnchorDlg().setTitle(b).setHandler(c||$.noop).setAnchor(a).play(!0)},tip:function(a,b,c){var f=this.getTipBox();f.setIcon(b||"alert");f.setContent(a||"");f.play(!0);c&&(f.onhide=c)},anchorTip:function(a,b,c,f){c=this.getAnchorTip();
c.setTitle(b).setAnchor(a).play(!0);f&&(c.onhide=f)},alert:function(a,b,c,f,d,m){var e=this.getSysBox(),g=e.buttons,i=g.length;f||(m=f="ok");d||(d="alert");for(var k=0;k<i;k++)e.jq("#gf_btn_"+g[k].id).cssDisplay(f.indexOf(g[k].id)>=0);e.defBtn=m;a&&e.setTitle(a);b&&e.setContent(b);d&&e.setIcon(d);c&&(e.onbuttonclick=c);e.play(!0);return e},confirm:function(a,b,c,f){this.alert(a||"提示",b,c,"ok|cancel","ask",f||"ok")},success:function(a,b,c,f,d){this.alert(a,b,c,f||"ok","success",d||"ok")},error:function(a,
b,c,f,d){this.alert(a,b,c,f||"ok","error",d||"ok")}})})(Gaofen);(function(i){function g(a,b){$.extend(this,{cmp:a,elem:b});this.init()}var k=i.util,e=document,d=i.ui;$(window);$(e);var c={ne:function(a,b,c,d){c=c||{};c.m=c.m||"请填写内容";this.report(!!b,c);d()},me:function(a,b,c,d){c=c||{};c.m=c.m||"请填写内容|||";this.report(!!b,c);d()}};g.prototype={n:-1,error:0,valiArr:[],bev:0,init:function(){this.valiArr=[];var a=$(this.elem),b=a.attr("vrel");if(b){var b=b.split("|"),f=!1,d=this,e=c;this.$t=a;b[0]=="_f"&&(f=!0,a.blur(function(){d.n=-1;d.validate.call(d)}));for(var a=
f?1:0,g=b.length;a<g;a++){var i=b[a].split("="),n={},p=e[i[0]];i.length>1&&(n=k.parseKnV(i[1]));p&&this.valiArr.push({fn:p,data:n})}this.cmp.addElement(this,f)}},validate:function(){var a=this.valiArr,b=a.length,c=$.trim(this.$t.val());this.n++;if(b>this.n)a[this.n].fn.call(this,this.elem,c,a[this.n].data,k.bind(this.validate,this));else if(this.cmp.elemChainResult(this.error,this.elem),this.n=-1,this.error=0,this.bev&&this.cmp.chainAll)this.bev=0,this.cmp.validate()},report:function(a,b){var c=this.$t.attr("id"),
d="",d=this.cmp.inForm?$(this.cmp.form):$("body"),e=d.find("#"+c+"oktip"),c=d.find("#"+c+"warntip");a?(c.cssDisplay(0),e.cssDisplay(1)):(this.error++,e.cssDisplay(0),c.cssDisplay(1),c.find("em").length?c.find("em").text(b.m):c.text(b.m))}};d.validation=function(a){$.extend(this,a);this.init()};d.validation.prototype={idx:-1,errorResult:0,chainAll:!0,velem:[],felem:[],elemChainResult:function(a,b){if(a)this.errorResult++,this.onElemError(b);else this.onElemTrue(b)},onElemError:function(a){console.log("errorelem:"+
a)},onElemTrue:function(a){console.log("trueelem:"+a)},init:function(){c||(c={});this.form=$(this.form)[0];console.log(this.form.submit);var a=this;$.each(this._getElements(),function(){new g(a,this)});var b=function(){a.idx=-1;a.errorResult=0;a.validate();return!1};if(this.trigOnSubmit)this.form.onsubmit=b;if(this.trigger)this.trigger=$(this.trigger)[0],$(this.trigger).click(function(){return b()})},_getElements:function(){return this.elements||this.form.elements},addElement:function(a,b){this.velem.push(a);
b&&this.felem.push(a)},validate:function(){var a=this.velem;this.idx++;a.length>this.idx?(a[this.idx].bev=1,a[this.idx].validate()):this.chainResult()},chainResult:function(){if(this.errorResult)this.onError();else this.onSuccess(this.getData())==!1&&(console.log(this.form.submit),$(this.form).submit())},onSuccess:function(a){console.log("onSuccess");console.log(a)},getData:function(){for(var a={},b=this._getElements(),c=0,d=b.length;c<d;c++){var e=$(b[c]);if(e.attr("type")=="submit")break;a[e.attr("name")||
e.attr("id")]=$.trim(e.val())}return a},onError:function(){console.log("onError")},reg:function(a,b){c||(c={});if($.isArray(a))for(var f=0,d=a.length;f<d;f++)this.reg.apply(this,a[f]);else c[a]=b;return this}};i.reg("validator",d.validation)})(Gaofen);(function(i){i.reg("contextMgr",function(){var g=i.util,k=document,e={context:function(d){d.contexted&&this.release(d);var c=this.q;if(!c)this.q=c=[];c.length||$(k).mousedown(this._getDocEvtHandler());c[c.length]=d;this._setCompEvtHandler(d,!0);d.contexted=!0;__debug&&console.log("contexted",d)},release:function(d,c){d.contexted=!1;d.onContextRelease(c)!==!1?(this._setCompEvtHandler(d,!1),g.arrayRemove(this.q,d),this.q.length||$(k).unbind("mousedown",this._getDocEvtHandler())):d.contexted=!0;__debug&&
console.log("release context",d)},releaseAll:function(d){var c=this.q;if(c){if(d)var a=d.target;for(var b=c.length-1;b>=0;b--)(!a||!c[b].ancestorOf(a))&&this.release(c[b],d)}},_setCompEvtHandler:function(d,c){c?d.domEvent("mousedown",this._compEvtStopHandler):d.unDomEvent("mousedown",this._compEvtHandler)},_getDocEvtHandler:function(){var d=this.docEvtHd;if(!d)d=this.docEvtHd=g.bind(this._docHandler,this);return d},_releaseFollower:function(d,c){var a=this.q;if(a){var b=a.length-1;if(b!==-1&&a[b]!==
d)for(;b>=0;b--){if(a[b]===d)break;this.release(a[b],c)}}},_compEvtStopHandler:function(d){if(d.target.nodeName=="SELECT"||d.target.nodeName=="INPUT")return!0;e._releaseFollower(this,d);return!1},_compEvtHandler:function(d){e._releaseFollower(this,d)},_docHandler:function(d){this.releaseAll(d)}};i.contextMgr=e;i.reg("contextMgr",e,!0);return e})})(Gaofen);(function(i){window.__debug||(__debug=!1);var g=location.hostname,k=/:\/\/(.[^\/]+)/,e={init:function(a){this.basePath=a;return this},ajax:function(a){var b,f=a.url;if(window.XMLHttpRequest)b=new XMLHttpRequest;else if(window.ActiveXObject)try{b=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){try{b=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}if(b){a.method=a.method?a.method.toUpperCase():"GET";var g=a.data,i=!a.cache;if(g||i){var k=f.indexOf("?")>=0;i&&(f=k?f+"&_="+ +new Date:f+"?_="+ +new Date);
g&&(typeof g==="object"&&(g=c.queryString(g)),a.method==="GET"&&(!k&&!i&&(f+="?"),f=f+"&"+g))}b.open(a.method,f,!0);a.method==="POST"&&b.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset="+(a.encoding?a.encoding:""));b.onreadystatechange=function(){if(b.readyState===4){var c=b.status===200;if(c&&a.success){try{var f=!a.dt||a.dt==="json"?eval("("+b.responseText+");"):b.responseText}catch(d){__debug&&console.error("服务器返回JSON格式有误，请检查。\n",d,"\n",b.responseText),c=!1}c&&a.success.call(a.scope||
this,f,b)}!c&&a.failure&&a.failure.call(a.scope||this,b.responseText,b)}};b.send("POST"===a.method?g:void 0);return b}},jsonp:function(a){function b(){if(!k){try{delete window[f],g.parentNode.removeChild(g),g=null}catch(a){}k=!0}}var f="jsonp_"+ +new Date,d=a.doc||document,e=a.url,g=d.createElement("script"),d=d.getElementsByTagName("head")[0],i;typeof a=="function"?(i=a,a={}):i=a.success;g.type="text/javascript";a.charset&&(g.charset=a.charset);a.deffer&&(g.deffer=a.deffer);e+=e.indexOf("?")>=0?
"&"+(a.jsonp||"jsonp")+"="+f:"?"+(a.jsonp||"jsonp")+"="+f;a.data&&(e+="&"+c.queryString(a.data));a.script&&(c.extend(g,a.script),delete a.script);g.src=e;var k=!1;window[f]=function(){b();i&&i.apply(a.scope||this,arguments)};g.onreadystatechange=g.onload=function(){var c=this.readyState;if(!k&&(!c||c==="loaded"||c==="complete"))b(),a.failure&&a.failure.call(a.scope||this)};d.appendChild(g);return g},direct:function(a){a||(a={});var b=a.success;a.success=function(c,d){var f=new e.DefaultResponseDefinition(c,
a,d);__debug&&console.log("req e:",f);a.scope?b.call(a.scope,f):b(f)};var c=a.url.match(k);return!c||c[1]==g?this.ajax(a):this.jsonp(a)},postReq:function(a,b,c,d){!d&&(d={});d.method="POST";return this.q(a,b,c,d)},q:function(a,b,d,e){!e&&(e={});e.url=a;e.data?c.extend(e.data,b):e.data=b;e.success=d;return this.direct(e)},basePath:"/",act:function(a,b,c,d){return this.postReq(a,b,function(){c&&c.apply(this,arguments);F.fire.apply(a,{})},d)},mkUrl:function(a,b,d,e){a=(e||"")+"?m="+a;b&&(a+="."+b);d&&
(typeof d==="string"?a+="&"+d:a+=c.queryString(d));return this.basePath+a},apiUrl:function(a,b,c){return this.mkUrl("api/weibo/"+a,b,c)},parseProtocol:function(a){return new e.DefaultResponseDefinition(a)},event:function(a,b,c,d){this.postReq(this.mkUrl("event",a),b,c,d)},DefaultResponseDefinition:function(a,b,c){this.raw=a;this.reqCfg=b;if(c)this.connector=c}};e.DefaultResponseDefinition.prototype={getRequestCfg:function(){return this.reqCfg},getConnector:function(){return this.connector},getRaw:function(){return this.raw},
getData:function(){return this.getRaw().data},isOk:function(){return!this.getCode()},getCode:function(){return this.getRaw().code},getError:function(){return this.getRaw().msg},getMsg:function(a){__debug&&(d[this.getCode()]||console.warn("未定义错误码消息："+this.getCode(),"@",this.getRaw()));return d[this.getCode()]||a||"系统不给力，请稍后再试试吧。@"+this.getCode()},each:function(a,b){var c=0,d=this.getData(),e;for(e in d)if(!isNaN(e)){if(b){if(a.call(b,d[e],c)===!1)break}else if(a(d[e],c)===!1)break;c++}}};var d=e.ERRORMAP=
{"0":"发布失败。"},c=i.util;if(!i.fire)i.fire=function(){};i.request=e})(Gaofen);(function(i){function g(c){this.q=c;this.idx=-1;this.end=this.q.length-1}var k=i.util;g.prototype={prevented:void 0,stopPropagationed:void 0,get:function(c){var a=this.getRel(c);return a&&a.data&&a.data[c]},escape:function(c){c=this.get(c);if(c!==void 0)return escape(c)},getEl:function(c){return(c=this.getRel(c))&&c.src},clear:function(c){c=c?this.getRel(c):this;c=$(c.src);c.data("xwb_rel",null);c.attr("rel","")},save:function(c,a,b){var d=b?this.getRel(b):this,b=$(d.src),e=b.data("gf_rel");e?e=e[c]=
a:(e=i.ex.ActionMgr.parseRel(b.attr("rel")),e[c]=a);d.data=e;b.data("gf_rel",e);var c=[],g;for(g in e)c.push(g+":"+(e[g]||"").replace(":","\\:").replace(",","\\,"));c=c.join(",");b.attr("rel",c)},jq:function(c,a){var b=$(this.getEl(c));a&&(b=b.find(a));return b},getRel:function(c){for(var a=this.q,b=this.idx,d=this.end;b<=d;b++)if(a[b].data[c]!==void 0)return a[b]},_next:function(){var c=this.q[++this.idx];if(c===void 0)this.idx=0;return c},clone:function(){var c=new g(this.q);c.idx=0;return c},preventDefault:function(c){this.prevented=
c},stopPropagation:function(c){this.stopPropagationed=c},lock:function(c,a){var b="gf_e_"+this.data.e;a&&(b+="_"+a);if(c===void 0)return $(this.src).data(b);$(this.src).data(b,c)}};var e=i.ex.Event=i.reg("Event",function(c){c&&$.extend(this,c);if(!this.actions)this.actions={};if(!this.filters)this.filters=[];this.target&&(this.bind(this.target),delete this.target)});e.parseRel=function(c){if(typeof c==="string")return k.parseKnV(c);return k.parseKnV($(c).attr("rel"))};e.collectRels=function(c,a,b){var d,
e,g=this;b===void 0&&(b=!0);k.domUp(c,function(a){var c=$(a);if(b){if(e=c.data("gf_rel"),!e&&(e=c.attr("rel")))e={src:a,data:g.parseRel(e)},c.data("gf_rel",e)}else(e=c.attr("rel"))&&(e={src:a,data:g.parseRel(e)});e&&(d||(d=[]),d[d.length]=e)},a);return d};var d=[];$.extend(i.ex.Event.prototype,{bind:function(c,a){var b=this;c&&(c.jquery?c:$(c)).bind(a||"click",function(a){var c=i.ex.Event.collectRels(a.target,this,this.cacheNodeData);c&&b.fireRels(c,a)})},fireRels:function(c,a){var b=new g(c);b.evt=
a;for(var e,m,j=d.length,i=this.filters.length,k,n,p;e=b._next();)if(m=e.data,m.e){b.src=e.src;b.data=m;if(b.lock()){__debug&&console.warn("action  has been locked for resubmiting");return}e=this.actions[m.e];if(j&&(k=!0,this._fireArray(d,b,e)===!1)){p=b.stopPropagationed;n=b.prevented;break}if(i&&(k=!0,this._fireArray(this.filters,b,e)===!1))break;p=b.stopPropagationed;n=b.prevented;if(e){var o=b.clone();o.src=b.src;o.data=m;o.evt=a;__debug&&console.log("act e:",o);k||(k=!0);if(e.h.call(this,o)===
!1){if(o.stopPropagationed!==void 0)p=o.stopPropagationed;if(o.prevented!==void 0)n=o.prevented;break}if(o.stopPropagationed!==void 0)p=o.stopPropagationed;if(o.prevented!==void 0)n=o.prevented}}else console.log("null e:"+m);a&&k&&(n===void 0&&(n=!0),p===void 0&&(p=!0),n&&a.preventDefault(),p&&a.stopPropagation())},addFilter:function(c,a){a?d.push(c):this.filters.push(c);return this},_fireArray:function(c,a,b){for(var d=0,e=c.length;d<e;d++)if(c[d].call(this,a,b)===!1)return!1},reg:function(c,a,b){a=
{n:c,h:a};b&&$.extend(a,b);this.actions[c]=a;return this}});i.reg("action",i.use("Event"))})(Gaofen);(function(i){var g=i.util.arrayRemove,k=function(){};k.prototype={fire:function(e){__debug&&console.log("发送:%o",arguments);if(this.events){var d=this.events[e];if(d){var c=$.makeArray(arguments),a,b,f,g,j;c.shift();a=c.length;d._evtLocked=!0;f=0;for(g=d.length;f<g;f++)if(j=d[f],!j.removed){if(j.args)c[a]=j.args;b=j.ds?j.cb.apply(j.ds,c):j.cb.apply(this,c);if(b===!1)break}d._evtLocked=!1}}return b},on:function(e,d,c,a){if(!e||!d)throw __debug&&console.trace(),"eid or callback can not be null";if(!this.events)this.events=
{};var b=this.events[e];b||(b=this.events[e]=[]);b[b.length]={cb:d,ds:c,args:a};return this},un:function(e,d){var f;if(!this.events)return this;if(d===void 0)return delete this.events[e],this;var c=this.events[e];if(c){c._evtLocked&&(f=this.events[e]=c.slice(0),c=f);for(var a=0;a<c.length;a++){var b=c[a];if(b.cb==d){g(c,a);b.removed=!0;break}}}return this},fireOnce:function(e){var d=this.fire.apply(this,arguments);this.un(e);return d}};i.ex.Listener=k;$.extend(i,k.prototype)})(Gaofen);(function(i){i.use("action").addFilter(function(g,i){if(g.get("na")||i&&i.na)return TRUE}).reg("lgu",function(g){console.log("lgu");console.log(g)}).reg("deluser",function(){},{na:!0})})(Gaofen,$);(function(i,g){var k=!!(g.browser.msie&&g.browser.version=="6.0");g.extend(g.fn,{zoomText:function(e,d){this.each(function(){var c,a=g(this),b=a.offset(),f=a.text();d=isNaN(d)?2:d;isNaN(+f)||(f=+f+(e||1));a.text(f);c=a.clone().attr("id","").css({position:"absolute",top:b.top,left:b.left,font:a.css("font"),color:a.css("color")}).appendTo(g(document.body));f=d*parseInt(a.css("font-size"));c.animate({"font-size":f,top:b.top-a.height()/4,left:b.left-a.width()/2,opacity:0.1},{duration:300,complete:function(){c.remove()}})});
return this},focusText:function(e,d,c,a,b){this.each(function(f){g(this).data("defaultText",g.isArray(e)?e[f]:e).focus(function(){if(this.value===g(this).data("defaultText")){var b=g(this).data("xwb_selholder");b?b.setText(""):this.value=""}if(d)switch(a?+a:0){case 1:g(c||this).removeClass(d);break;case 0:g(c||this).addClass(d);break;case 3:g(c||this).addClass(d);break;default:g.merge(g(c),g(this)).addClass(d)}}).blur(function(){var e=g(this).data("defaultText");if(g.trim(this.value)===""){var f=
g(this).data("xwb_selholder");f?f.setText(e):this.value=e}else if(b)switch(a?+a:0){case 1:case 0:return;default:g(c).removeClass(d);return}if(d)switch(a?+a:0){case 1:g(c||this).addClass(d);break;case 0:g(c||this).removeClass(d);break;case 3:g(c||this).removeClass(d);break;default:g.merge(g(c),g(this)).removeClass(d)}})});return this},cssDisplay:function(e){var d=this.length;if(d)if(d===1)if(e===void 0)return!this.hasClass("hidden");else e?this.removeClass("hidden"):this.addClass("hidden");else this.each(function(){e?
g(this).removeClass("hidden"):g(this).addClass("hidden")});return this},checkClass:function(e,d){e&&this.each(function(){var c=g(this),a=c.hasClass(e);d?a||c.addClass(e):a&&c.removeClass(e)});return this},switchClass:function(e,d){this.each(function(){var c=g(this);c.removeClass(e);c.addClass(d)});return this},absolutePos:function(){var e=this.offset(),d=g(document),c=d.scrollTop(),d=d.scrollLeft();e.left-=d;e.top-=c;return e},slideMenu:function(e,d){this.each(function(){(function(c){function a(){f.show().cssDisplay(!0);
d&&c.addClass(d)}function b(){d&&c.removeClass(d);f.cssDisplay(!1)}var f=c.find(e),g,j;c.hover(function(){j&&(clearTimeout(j),j=!1);g=setTimeout(a,100)},function(){g&&(clearTimeout(g),g=!1);j=setTimeout(b,80)})})(g(this))})},substrText:function(e,d){var c=RegExp("(?:<a.*?>.*?<\\/a>)|(?:<img.*?>)|.","gi");this.each(function(){var a=a||"...",b=this.innerHTML,b=b.match(c);e=e||10;b&&b.length>e&&(b=b.slice(0,e).join(""),b=d?b:b.replace(/<img.*?title=\"(.*?)\".*?>/gi,"[$1]"),g(this).html(b+a))});return this},
fixPng:function(){if(k){var e=function(){if(this.tagName=="IMG"){var d=g("<span></span>").css({width:this.offsetWidth,height:this.offsetHeight,display:"inline-block"});d[0].style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+this.src+'", sizingMethod="crop")';g(this).replaceWith(d)}};this.each(function(){this.complete?e.call(this):this.onload=e})}return this},makeScroll:function(e){function d(){if(e.ldisabledCs){var a=j[o[4]]>j[o[0]]||this.showState;p.cssDisplay(a);n.cssDisplay(a);
p.checkClass(e.ldisabledCs,j[o[1]]==0);n.checkClass(e.rdisabledCs,j[o[1]]+j[o[0]]===j[o[0]])}}function c(){var a=j[o[1]]+e.pace*k;a<0&&(a=0);a>j[o[2]]&&(a=j[o[2]]);j[o[1]]=a;d();i=setTimeout(arguments.callee,e.interval||20)}function a(){q=!1;c()}function b(){q=!0;k=-1;mid=setTimeout(a,200);return!1}function f(){q=!0;k=1;mid=setTimeout(a,200);return!1}function m(){if(q){var a=j[o[1]]+e.pace*k*4;a<0&&(a=0);a>j[o[2]]&&(a=j[o[2]]);var b={};b[o[1]]=a;g(j).animate(b,"fast",function(){d()})}clearTimeout(i);
clearTimeout(mid)}var j=this[0],i,k=1,n=g(e.nextBtn),p=g(e.prevBtn),o={left:["offsetWidth","scrollLeft","width","outerWidth","scrollWidth"],top:["offsetHeight","scrollTop","height","outerHeight","scrollheight"]}[e.dir||"left"];e.pace=e.pace||25;var q;e.nextBtn&&g(e.nextBtn).mousedown(f).mouseup(m).click(function(){return!1});e.prevBtn&&g(e.prevBtn).mousedown(b).mouseup(m).click(function(){return!1});e.moveScorll&&(n.hover(f,m),p.hover(b,m));var u=0;e.items&&(g(j).find(e.items).each(function(){u+=
g(this)[o[3]](!0)}),g(j).find(e.ct||":first-child").css(o[2],u));d();return e},slideplay:function(e){function d(){p=setTimeout(function(){c(q=="right"?r+n:r-n)},s)}function c(c){if(!x){x=!0;clearTimeout(p);r=c;if(q=="right")c==i&&(f.eq(0).css({position:"relative",left:j*i}),r=0),b.animate({left:-j*c},v,"easeIn",function(){c==i&&(f.eq(0).css({position:"default",left:"0"}),b.css({left:"0"}));x=!1;d()});else{var g=-j*c;if(c==-n){for(var g=j*n,k=0;k<n;k++)f.eq(i-1-k).css({position:"relative",left:-j*
i});r=i-n}b.animate({left:g},v,"easeIn",function(){if(c==-n){for(var a=0;a<n;a++)f.eq(i-1-a).css({position:"default",left:"0"});b.css({left:-j*(i-n)})}x=!1;d()})}hasControl&&(g=a.find(e.Control),g.find("."+u).removeClass(u),g.children().eq(r).addClass(u));infoList&&(infoList.cssDisplay(0),infoList.eq(r).cssDisplay(1));e.runningFn&&e.runningFn(r)}}e||(e={width:400});var a=this||g("#slideplay"),b=a.find("#sliderUL"),f=b.children(),i=f.length,j=f.eq(0).width(),k=a.find(e.img),s=e.split||1E3,n=e.showEles||
1,p="",o=0,q=e.turn||"right",u=e.controlCls||"cur",v=e.duration||200,r=0,x=!1;sliderType=e.type||4;playLeft=a.find(e.prev||"#left");playRight=a.find(e.next||"#right");infoList=e.infoList&&a.find(e.infoList);if(hasControl=!!e.Control){var y=a.find(e.Control);y.children().click(function(a){a.preventDefault();a=g(this).index();e.special&&(a=g(this).attr("rel"));c(a)})}playRight.click(function(a){a.preventDefault();a=q;q="right";c(r+n);q=a});playLeft.click(function(a){a.preventDefault();a=q;q="left";
c(r-n);q=a});e.stopHover||a.hover(function(){clearTimeout(p)},function(){d()});(function(){b.css({width:j*i});k.length?(hasControl&&y.cssDisplay(0),k.each(function(){this.onload=function(){o++;o==k.length&&(loaded=!0,d(),e.callback&&e.callback(),hasControl&&y.cssDisplay(1))};this.onerror=function(){__debug&&console.error("%o,图片加载失败",this)};this.src=g(this).attr("_src")})):d()})()},scrollMass:function(e,d,c){function a(){f.animate({marginLeft:-k},c?c:1E3,function(){i!=0&&(f.css("marginLeft",0),f.append(f.children(":lt("+
e+")")));s||b()})}function b(){i=window.setTimeout(a,d)}var f=this,g=f.children().length,i,k=f.children()[0].offsetWidth*e,s=!1;if(g<=e)return this;this.hover(function(){s=!0;clearTimeout(i)},function(){s=!1;b()});b();return this},parentFind:function(e,d){for(var d=d||doc.body,c=typeof e==="string",a=g(this).get(0);a;){if(c){if(g(a).is(e))break}else if(e(a))break;a=a.parentNode;if(a===d)return null}return a},imageToCenter:function(e){var d=e.toProperty||"width",c=d=="width"?"marginTop":"marginLeft",
a=e.zoom,b="",f="",i,j=e.instead,k=new Image,s=this,n=function(){f=k.height;b=k.width;d=="width"&&(i=f,a<b?i=f*a/b:this.css(d=="width"?"marginLeft":"marginTop",(a-b)/2),this.css({width:a<b?a:b,height:i}));d=="height"&&(i=b,a<f?i=b*a/f:this.css(d=="width"?"marginLeft":"marginTop",(a-f)/2),this.css({height:a<f?a:f,width:i}));i>j&&this.css(c,-(i-j)/2)};g.browser.msie?k.onreadystatechange=function(){this.readyState=="complete"&&n.call(s)}:k.onload=function(){k.complete==!0&&n.call(s)};k.src=this.attr("src")}});
g.easing.cubicOut=function(e,d,c,a,b){return a*((d=d/b-1)*d*d+1)+c};g.extend(g.easing,{easeIn:function(e,d,c,a,b){return a*(d/=b)*d*d+c},easeOut:function(e,d,c,a,b){return a*((d=d/b-1)*d*d+1)+c},easeInOut:function(e,d,c,a){if((e/=a/2)<1)return c/2*e*e+d;return-c/2*(--e*(e-2)-1)+d}})})(Gaofen,jQuery);(function(i){var g=i.util,k=document,e=i.ui,d=i.ui.Base;$(window);$(k);e.switcher=i.reg("Switcher",g.create(d,{view:"",serial:0,trigMode:"click",handler:[],silder:!1,timer:2E3,cls:"active",hide:"hidden",contents:[],initUI:function(){var c=this;this.len=this.handler.length;this.len!=0&&($.each(this.handler,function(a,b){var d=$(b);d.bind(c.trigMode,function(b){c.run.call(c,d,a);b.preventDefault()});if(d.hasClass(c.cls))c.serial=a}),this.silder&&(this.silderInit(),$(this.view).hover(function(){c.clearTimer()},
function(){c.silderInit()}),this.handler.eq(0).parent().mouseover(function(){console.log("----------------")})))},run:function(c,a){if(!c.hasClass(this.cls))g.bind(this.setHandlerCls,this)(c,a),this.onselect&&this.onselect(a),this.serial=a},setHandlerCls:function(c,a){for(var b=this.handler,d=this.handler.length,e=this.cls,g=0,i=0;i<d;i++){var k=$(b[i]);if(k.hasClass(e)){g=i;k.removeClass(e);break}}c.addClass(e);this.setContentShow(g,a)},setContentShow:function(c,a){$(this.contents[c]).addClass(this.hide);
$(this.contents[a]).removeClass(this.hide)},silderInit:function(){var c=this;this._timer=setInterval(function(){c.setTimer.call(c)},this.timer)},setTimer:function(){var c=(this.serial+1)%this.len;this.run(this.handler.eq(c),c)},clearTimer:function(){clearInterval(this._timer)}}));i.reg("pageData",function(){if(typeof i.cfg==="undefined")i.cfg={};var c=i.cfg,a={};return{set:function(b,d){var e=arguments.length;e==3?(a[b]=d,c[b]=d):e==2&&$.extend(c,d)},get:function(b){return arguments.length==1?c[b]:
a[b]}}});i.pageData=i.use("pageData");e.DragBase=i.reg("DragBase",g.create(d,{items:[],parent:null,dlagIngCls:"dlaging",cp:[],canDlagArea:null,itemHeight:null,clone:!1,sortAble:!1,target:null,canOutside:!0,outsideArea:"",movePart:$("body"),targetInCls:"targetIn",pushPoint:function(c){this.cp.push({obj:c,offset:c.offset()})},cloneTemp:'<div class="dlagnull hidden" ></div>',initUI:function(){this.parent=this.parent||$("body");if(this.items.length)this.bingDrag(this.items),this.itemHeight=$(this.items[0]).height()},
bingDrag:function(c){var a=this;c.each(function(){var b=$(this),c;a.pushPoint(b);(a.handle?b.find(a.handle):b).mousedown(function(d){var e=a.parent.find("."+a.dlagIngCls).data("md");e&&a.movePart.unbind("mousemove",e);if(a.sortAble&&a.parent.children().length<2)return!1;g.bind(a.mousedown,a)(d,b);c=function(c){g.bind(a.mousemove,a)(c,b);return!1};b.data("md",c);a.movePart.mousemove(c);d.preventDefault()});a.movePart.mouseup(function(b){b.preventDefault();var c=a.parent.find("."+a.dlagIngCls);c.data("md")&&
(a.movePart.unbind("mousemove",c.data("md")),c.data("md",""),g.bind(a.mouseup,a)(b,c))})})},addItem:function(c){this.items.push(c);this.bingDrag(c)},mousedown:function(c,a){var b=a.offset();a.data("cache",{cx:c.clientX,cy:c.clientY,left:b.left,top:b.top,index:a.index(),gap:c.clientY-b.top});a.addClass(this.dlagIngCls);if(this.clone){if(this.sortAble)b=this.parent.children(),this.startT=b.eq(0).offset().top,this.endT=b.eq(b.length-1).offset().top;this.insertClone=this.insertClone||$(this.cloneTemp);
this.insertClone.cssDisplay(0);this.insertClone.insertBefore(a)}},mouseup:function(c,a){this.stop(a,c);if(this.clone)this.insertClone.remove(),this.insertClone=""},mousemove:function(c,a){var b=a.data("cache"),d=c.clientX-b.cx+b.left,b=c.clientY-b.gap;a.css("position","absolute").offset({left:d,top:b});this.clone&&(this.insertClone.cssDisplay(1),this.sortAble&&this.mathInsertNull(c));this.target&&this.moveTarget&&this.moveTarget(this.isInTarget(a,c),a,this.target)},stop:function(c,a){c.removeClass(this.dlagIngCls);
if(!this.canOutside){var b=c.data("cache"),d=this.outsideArea.offset(),e=this.outsideArea.height();console.log(b.cy-b.top);(d.left-a.clientX+(b.cx-b.left)>=0||a.clientX+c.width()-(b.cx-b.left)>=this.outsideArea.width()+d.left||a.clientY-(b.cy-b.top)<=d.top||a.clientY+c.height()-(b.cy-b.top)>=d.top+e)&&c.css("position","absolute").offset({left:b.left,top:b.top})}this.target?this.toTarget(c,a):this.reset&&c.removeAttr("style")},isInTarget:function(c,a){var b=this.target;typeof b=="string"&&(b=$(b));
if(b.length){var d=b.offset();c.offset();var e=d.left+b.width(),b=d.top+b.height();if(a.clientX>d.left&&a.clientX<e&&a.clientY>d.top&&a.clientY<b)return!0}return!1},moveTarget:function(c){var a=this.target;typeof a=="string"&&(a=$(a));c?a.addClass(this.targetInCls):a.removeClass(this.targetInCls)},toTarget:function(c,a){this.isInTarget(c,a)?(this.inTargetFn&&this.inTargetFn(c),this.moveTarget(!1)):c.removeAttr("style")},remove:function(){this.items.each(function(){$(this).unbind("mousedown").unbind("mouseup")})}}))})(Gaofen);$(function(){Gaofen.use("action").bind(document.body)});
